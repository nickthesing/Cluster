<template name="chatLayout">
    <div class="container">
        <div class="cluster-chat">
            {{> yield}}
        </div>
    </div>
</template>

<template name="chatLoaded">
    {{#if name}}
        {{> chat}}
    {{else}}
        {{> chatNotFound}}
    {{/if}}
</template>

<template name="chatLoading">
    <h1>Loading chat...</h1>
</template>

<template name="chatNotFound">
    <h1>Oops. Chat not found</h1>
</template>

<template name="chatNotSpecified">
    <h1>No name specified</h1>
</template>

<template name="chat">
    <h1>Chat: [{{name}}]</h1>

    <div class="cluster-chat">
    <ul>
      {{#each lines}}
        {{> line}}
      {{/each}}
    </ul>
    </div>
</template>

<template name="line">
    <li>
    {{#if start }}
        <p class="first-line">
            Chat created by {{username}} on {{parseDate createdAt}}
        </p>
    {{ else }}
    {{ /if }}
    </li>
</template>
